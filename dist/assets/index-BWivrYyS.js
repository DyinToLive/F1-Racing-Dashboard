import{j as e,F as C,I as F,C as E,B as h,r as u,D as q,S as O,a as Q,s as G,b as k,L as j,A as X,T as v,M as D,c as w,d as P,R as V}from"./vendor-CnPlPFVW.js";(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&s(l)}).observe(document,{childList:!0,subtree:!0});function n(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(r){if(r.ep)return;r.ep=!0;const i=n(r);fetch(r.href,i)}})();const Y=({isLoggedIn:o,setLoggedIn:a})=>{const n=r=>{r.username&&r.password?a(!0):alert("Please enter username and password.")},s=r=>{console.log("Failed:",r)};return e.jsxs(C,{name:"basic",labelCol:{span:8},wrapperCol:{span:16},style:{maxWidth:600},initialValues:{remember:!0},onFinish:n,onFinishFailed:s,autoComplete:"off",children:[e.jsx(C.Item,{label:"Username",name:"username",rules:[{required:!1,message:"Please input your username!"}],children:e.jsx(F,{})}),e.jsx(C.Item,{label:"Password",name:"password",rules:[{required:!1,message:"Please input your password!"}],children:e.jsx(F.Password,{})}),e.jsx(C.Item,{name:"remember",valuePropName:"checked",wrapperCol:{offset:8,span:16},children:e.jsx(E,{children:"Remember me"})}),e.jsx(C.Item,{wrapperCol:{offset:8,span:16},children:e.jsx(h,{type:"primary",htmlType:"submit",children:"Sign in"})})]})},Z=({seasons:o,handleSeasons:a})=>{const[n,s]=u.useState(""),r=o.map(l=>({label:l.year,key:l.year})),i=({key:l})=>{a(l),s(l),G.info(`Selected season ${l} for viewing.`)};return e.jsx(q,{menu:{items:r,onClick:i},children:e.jsx("a",{className:"ant-dropdown-link",onClick:l=>l.preventDefault(),children:e.jsxs(O,{children:[n?`Selected F1 Season: ${n}`:"Select F1 Season",e.jsx(Q,{})]})})})},$=({AddedFavorites:o,setAddedFavorites:a})=>{const[n,s]=u.useState(!1),r=()=>{s(!0)},i=()=>{s(!1)},l=(c,p)=>{a(t=>({...t,[c]:t[c].filter(d=>d!==p)}))},m=o&&(o.constructors.length>0||o.drivers.length>0||o.circuits.length>0);return m?e.jsxs(e.Fragment,{children:[e.jsx(h,{type:"primary",onClick:r,children:"Favorites"}),e.jsx(k,{title:"Favorites",width:520,closable:!1,onClose:i,open:n,children:m&&e.jsxs(e.Fragment,{children:[e.jsx(j,{header:e.jsx("div",{children:"Constructors"}),bordered:!0,dataSource:o.constructors,renderItem:c=>e.jsxs(j.Item,{className:"flex justify-between items-center",children:[e.jsx("div",{children:c.name}),e.jsx("div",{children:e.jsx(h,{type:"default",onClick:()=>l("constructors",c),children:"Remove"})})]})}),e.jsx(j,{header:e.jsx("div",{children:"Drivers"}),bordered:!0,dataSource:o.drivers,renderItem:c=>e.jsxs(j.Item,{className:"flex justify-between items-center",children:[e.jsx("div",{children:c.name}),e.jsx("div",{children:e.jsx(h,{type:"default",onClick:()=>l("drivers",c),children:"Remove"})})]})}),e.jsx(j,{header:e.jsx("div",{children:"Circuits"}),bordered:!0,dataSource:o.circuits,renderItem:c=>e.jsxs(j.Item,{className:"flex justify-between items-center",children:[e.jsx("div",{children:c.name}),e.jsx("div",{children:e.jsx(h,{type:"default",onClick:()=>l("circuits",c),children:"Remove"})})]})})]})})]}):e.jsxs(e.Fragment,{children:[e.jsx(h,{type:"dashed",onClick:r,children:"Favorites"}),e.jsx(k,{title:"Favorites",width:520,closable:!1,onClose:i,open:n,children:e.jsxs(e.Fragment,{children:[e.jsx(j,{header:e.jsx("div",{children:"Constructors"}),bordered:!0}),e.jsx(j,{header:e.jsx("div",{children:"Drivers"}),bordered:!0}),e.jsx(j,{header:e.jsx("div",{children:"Circuits"}),bordered:!0})]})})]})},A=()=>{const[o,a]=u.useState(!1),n=()=>{a(!0)},s=()=>{a(!1)};return e.jsxs(e.Fragment,{children:[e.jsx(h,{type:"dashed",onClick:n,children:"About"}),e.jsxs(k,{title:"Basic Drawer",onClose:s,open:o,children:[e.jsx("p",{children:"React project by Jameson Watson"}),e.jsx("p",{children:"Building this project I aimed to learn good React practices, implentation of different components using ant design, and styling components using TailwindCSS."}),e.jsx("p",{children:"Implented using Vite for building, and render + Github for hosting."}),e.jsx("p",{children:"The fetches in this project are done using supabase/supabase-js. Connected to a supabase Postgres DB that we built for our Node project."})]})]})},B=({handleButtonClick:o,seasons:a,handleSeasons:n,handleTableChange:s,setAddedFavorites:r,AddedFavorites:i,addToFavorites:l})=>e.jsx("header",{className:"rounded-lg flex justify-between px-4 py-6 bg-gray-600 text-white",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(Z,{handleTableChange:s,seasons:a,handleSeasons:n,AddedFavorites:i,addToFavorites:l}),e.jsx("h1",{className:"text-2x1 px-20 font-bold",children:" F1 Racing Dashboard Project "}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx(h,{type:"primary",onClick:()=>o("results"),children:"Results"},"results"),e.jsx(h,{type:"primary",onClick:()=>o("qualifying"),children:"Qualifying"},"qualifying"),e.jsx(h,{type:"primary",onClick:()=>o("standings"),children:"Standings"},"standings"),e.jsx(h,{type:"primary",onClick:()=>o("circuits"),children:"Circuits"},"circuits"),e.jsx($,{AddedFavorites:i,setAddedFavorites:r}),e.jsx(A,{})]})]})}),_=({Races:o,handleResultsClick:a,handleStandingsClick:n,handleCircuitsClick:s})=>{const[r,i]=u.useState(!1),l=()=>{i(!0),alert("Simulate loading more..."),setTimeout(()=>{i(!1)},1e3)},m=r?null:e.jsx("div",{style:{textAlign:"center",marginTop:12,height:32,lineHeight:"32px"},children:e.jsx(h,{onClick:l,children:"loading more"})});return e.jsx("div",{className:"float-left w-1/4 text-slate-600",children:e.jsx(j,{className:"demo-loadmore-list",itemLayout:"horizontal",loadMore:m,dataSource:o,renderItem:c=>e.jsx(j.Item,{actions:[e.jsx("a",{onClick:()=>a(c.raceId),children:"Results"},"list-loadmore-edit"),e.jsx("a",{onClick:()=>n(c.raceId),children:"Standings"},"list-loadmore-more")],children:e.jsx(j.Item.Meta,{avatar:e.jsx(X,{src:"/vite.svg"}),description:e.jsxs("a",{className:"font-bold text-gray-800",onClick:()=>s(c.circuitId),children:[c.name," "]}),title:e.jsxs("a",{target:"_blank",href:c.url,children:["Round: ",c.round," "]})})})})})},U=({ConstructorsData:o,addToFavorites:a,AddedFavorites:n})=>{const[s,r]=u.useState(null),i=t=>{r(t)},l=()=>{r(null)},m=()=>{a(s,"constructors")},c=[{title:"Position",dataIndex:"position",sorter:(t,d)=>t.position-d.position},{title:"Name",dataIndex:"name",render:(t,d)=>e.jsx("a",{onClick:()=>i(d),children:t})},{title:"Points",dataIndex:"points",sorter:(t,d)=>t.points-d.points},{title:"Wins",dataIndex:"wins",sorter:(t,d)=>t.wins-d.wins}],p=o.map((t,d)=>({key:d,position:t.position,name:`${t.constructors.name}`,points:t.points,wins:t.wins,url:t.constructors.url,nationality:t.constructors.nationality,image:t.constructors.image||"https://placehold.co/200x200/png"}));return e.jsxs(e.Fragment,{children:[e.jsx(v,{className:"rounded-lg shadow-md",columns:c,dataSource:p}),e.jsx(D,{title:"Constructor Details",visible:!!s,onCancel:l,footer:[e.jsx(h,{type:"primary",onClick:m,children:"Add to Favorites"},"addToFavorites")],children:s&&e.jsxs(e.Fragment,{children:[e.jsx("img",{src:s.image,alt:s.name}),e.jsxs("p",{children:["Name: ",s.name]}),e.jsxs("p",{children:["Nationality: ",s.nationality]}),e.jsxs("p",{children:["Wins: ",s.wins]}),e.jsxs("p",{children:["URL: ",s.url]})]})})]})},W=({DriversData:o,AddedFavorites:a,addToFavorites:n})=>{const[s,r]=u.useState(null),i=t=>{r(t)},l=()=>{r(null)},m=()=>{n(s,"drivers")},c=[{title:"Position",dataIndex:"position",sorter:(t,d)=>t.position-d.position},{title:"Name",dataIndex:"name",render:(t,d)=>e.jsx("a",{onClick:()=>i(d),children:t})},{title:"Points",dataIndex:"points",sorter:(t,d)=>t.points-d.points},{title:"Wins",dataIndex:"wins",sorter:(t,d)=>t.wins-d.wins}],p=o.map((t,d)=>({key:d,position:t.position,name:`${t.drivers.forename} ${t.drivers.surname}`,points:t.points,wins:t.wins,image:t.drivers.image||"https://placehold.co/200x200/png",nationality:t.drivers.nationality,dob:t.drivers.dob,url:t.drivers.url}));return e.jsxs(e.Fragment,{children:[e.jsx(v,{className:"rounded-lg shadow-md",columns:c,dataSource:p}),e.jsx(D,{title:"Constructor Details",visible:!!s,onCancel:l,footer:[e.jsx(h,{type:"primary",onClick:m,children:"Add to Favorites"},"addToFavorites")],children:s&&e.jsxs(e.Fragment,{children:[e.jsx("img",{src:s.image,alt:s.name}),e.jsxs("p",{children:["Nationality: ",s.nationality]}),e.jsxs("p",{children:["Name: ",s.name]}),e.jsxs("p",{children:["DOB: ",s.dob]}),e.jsxs("p",{children:["URL: ",s.url]})]})})]})},J=w("https://wtxiypcrzogjbgijwurz.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Ind0eGl5cGNyem9namJnaWp3dXJ6Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3MDc3NTE0OTYsImV4cCI6MjAyMzMyNzQ5Nn0.nCFrr5Lrqo9T658aS35gLGuVrNICEJ-3C__9sRJeGtQ"),H=({selectedRaceID:o,selectedTable:a,AddedFavorites:n,addToFavorites:s,handleTableChange:r})=>{const[i,l]=u.useState([]),m=d=>{r("Drivers"),setSelectedDriver(d)},c=d=>{setSelectedConstructor(d),r("Constructors")};u.useEffect(()=>{(async()=>{console.log("Check for infinite loop in Drivers.");const{data:g,error:f}=await J.from("driverStandings").select(` 
                raceId, position, points, wins, drivers (forename, surname, dob, nationality, url), races!inner (raceId)
            `).eq("races.raceId",o).order("position",{ascending:!0});if(f){console.error("Error fetching Drivers",f);return}else l(g)})()},[o,J]);const[p,t]=u.useState([]);return u.useEffect(()=>{(async()=>{console.log("Check for infinite loop in Constructors.");const{data:g,error:f}=await J.from("constructorStandings").select(` 
                  raceId, position, points, wins, constructors (name, url, nationality), races!inner (raceId)
              `).eq("races.raceId",o).order("position",{ascending:!0});if(f){console.error("Error fetching Constructors",f);return}else console.log(g),t(g)})()},[o,J]),e.jsxs("div",{children:[e.jsxs("div",{className:"float-right p-1 w-1/3",children:[e.jsx("h1",{children:" Drivers "}),e.jsx(W,{DriversData:i,onDriverClick:m,AddedFavorites:n,addToFavorites:s,handleTableChange:r})]}),e.jsxs("div",{className:"float-right p-1 w-1/3",children:[e.jsx("h1",{children:" Constructors "}),e.jsx(U,{ConstructorsData:p,onConstructorClick:c,AddedFavorites:n,addToFavorites:s,handleTableChange:r})]})]})},T=({ResultsData:o})=>{const a=[{title:"Position",dataIndex:"position",sorter:(s,r)=>s.position-r.position},{title:"Driver",dataIndex:"driver"},{title:"Constructor",dataIndex:"constructor"},{title:"Laps",dataIndex:"laps"},{title:"Points",dataIndex:"points"}],n=o.map((s,r)=>({key:r,position:s.position,driver:`${s.drivers.forename} ${s.drivers.surname}`,constructor:s.constructors.name,laps:s.laps,points:s.points}));return e.jsx(v,{className:"rounded-lg shadow-md",columns:a,dataSource:n})},K=({QualifyingData:o,handleTable:a})=>{const n=[{title:"Position",dataIndex:"position",sorter:(r,i)=>r.position-i.position},{title:"Q1",dataIndex:"q1"},{title:"Q2",dataIndex:"q2"},{title:"Q3",dataIndex:"q3"},{title:"Constructor",dataIndex:"constructorName"}],s=o.map((r,i)=>({key:i,position:r.position,q1:r.q1,q2:r.q2,q3:r.q3,constructorName:r.constructors.name}));return e.jsx(v,{className:"rounded-lg shadow-md",columns:n,dataSource:s})},b=w("https://wtxiypcrzogjbgijwurz.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Ind0eGl5cGNyem9namJnaWp3dXJ6Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3MDc3NTE0OTYsImV4cCI6MjAyMzMyNzQ5Nn0.nCFrr5Lrqo9T658aS35gLGuVrNICEJ-3C__9sRJeGtQ"),L=({selectedCircuitName:o,selectedRaceID:a,selectedTable:n,handleTableChange:s})=>{const[r,i]=u.useState([]);u.useEffect(()=>{(async()=>{console.log("Check for infinite loop in Results.");const{data:p,error:t}=await b.from("results").select(` 
                position, points, laps, drivers (forename, surname), races!inner (raceId),
                constructors (name)
            `).eq("raceId",a).order("position",{ascending:!0});if(t){console.error("Error fetching Race Results",t);return}else console.log(p),i(p)})()},[a,b]);const[l,m]=u.useState([]);return u.useEffect(()=>{(async()=>{console.log("Check for infinite loop in Qualifying.");const{data:p,error:t}=await b.from("qualifying").select(` 
                  raceId, position, q1, q2, q3, constructors (name), races!inner (raceId)
              `).eq("raceId",a).order("position",{ascending:!0});if(t){console.error("Error fetching Qualifying",t);return}else console.log(p),m(p)})()},[a,b]),console.log(n),e.jsxs("div",{children:[a&&n==="results"&&e.jsxs("div",{className:"p-1 float-right w-2/3",children:[e.jsxs("h1",{children:[" Results  for ",o]}),e.jsx(T,{ResultsData:r})]}),a&&n==="qualifying"&&e.jsxs("div",{className:"float-right p-1 w-2/3",children:[e.jsx("h1",{children:" Qualifying "}),e.jsx(K,{QualifyingData:l})]})]})},ee=({CircuitsData:o,addToFavorites:a,AddedFavorites:n})=>{const[s,r]=u.useState(null),i=t=>{r(t)},l=()=>{r(null)},m=()=>{a(s,"circuits")},c=[{title:"Name",dataIndex:"name",render:(t,d)=>e.jsx("a",{onClick:()=>i(d),children:t})},{title:"Location",dataIndex:"location"},{title:"Country",dataIndex:"country"},{title:"URL",dataIndex:"url"}],p=o.map((t,d)=>({key:d,name:`${t.name}`,location:t.location,country:t.country,lat:t.lat,lng:t.lng,url:t.url,image:t.image||"https://placehold.co/200x200/png"}));return e.jsxs(e.Fragment,{children:[e.jsx(v,{className:"rounded-lg shadow-md",columns:c,dataSource:p}),e.jsx(D,{title:"Circuit Details",visible:!!s,onCancel:l,footer:[e.jsx(h,{type:"primary",onClick:m,children:"Add to Favorites"},"addToFavorites")],children:s&&e.jsxs(e.Fragment,{children:[e.jsx("img",{src:s.image,alt:s.name}),e.jsxs("p",{children:["Name: ",s.name]}),e.jsxs("p",{children:["Location: ",s.location]}),e.jsxs("p",{children:["Country: ",s.country]}),e.jsxs("p",{children:["lat: ",s.lat]}),e.jsxs("p",{children:["lng: ",s.lng]}),e.jsxs("p",{children:["URL: ",s.url]})]})})]})},M=w("https://wtxiypcrzogjbgijwurz.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Ind0eGl5cGNyem9namJnaWp3dXJ6Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3MDc3NTE0OTYsImV4cCI6MjAyMzMyNzQ5Nn0.nCFrr5Lrqo9T658aS35gLGuVrNICEJ-3C__9sRJeGtQ"),se=({selectedCircuitID:o,selectedTable:a,AddedFavorites:n,addToFavorites:s,handleTableChange:r})=>{const[i,l]=u.useState([]),m=c=>{setSelectedConstructor(c),r("circuits")};return u.useEffect(()=>{(async()=>{console.log("Check for infinite loop in circuits.");const{data:p,error:t}=await M.from("circuits").select(` 
          name, location, country, lat, lng, url
      `).eq("circuitId",o).order("name",{ascending:!0});if(t){console.error("Error fetching circuits",t);return}else console.log(p),l(p)})()},[o,M]),e.jsx("div",{children:o&&a==="circuits"&&e.jsxs("div",{className:"float-right p-1 w-2/3",children:[e.jsx("h1",{children:" Circuits "}),e.jsx(ee,{CircuitsData:i,onCircuitsClick:m,AddedFavorites:n,addToFavorites:s,handleTableChange:r})]})})},z=w("https://wtxiypcrzogjbgijwurz.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Ind0eGl5cGNyem9namJnaWp3dXJ6Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3MDc3NTE0OTYsImV4cCI6MjAyMzMyNzQ5Nn0.nCFrr5Lrqo9T658aS35gLGuVrNICEJ-3C__9sRJeGtQ"),te=({setSelectedCircuitName:o,selectedSeason:a,selectedTable:n,AddedFavorites:s,addToFavorites:r,handleTableChange:i})=>{const[l,m]=u.useState([]),[c,p]=u.useState(null),[t,d]=u.useState(null),g=I=>{p(I),n="standings",i(n)},f=I=>{d(I),n="circuits",i(n)},R=I=>{p(I),n="results",i(n)};return u.useEffect(()=>{a&&(async()=>{const{data:S,error:x}=await z.from("races").select("name, round, raceId, circuitId").eq("year",a).order("round",{ascending:!0});if(x){console.error("Error fetching Races",x);return}m(S)})()},[a,z]),e.jsxs("body",{children:[e.jsx(_,{Races:l,handleStandingsClick:g,handleResultsClick:R,handleCircuitsClick:f,setSelectedCircuitName:o,handleTableChange:i,selectedTable:n}),c&&n==="standings"&&e.jsx(H,{handleTableChange:i,selectedRaceID:c,AddedFavorites:s,addToFavorites:r,selectedTable:n}),t&&n==="circuits"&&e.jsx(se,{selectedCircuitID:t,handleTableChange:i,selectedTable:n,AddedFavorites:s,addToFavorites:r}),c&&n==="results"&&e.jsx(L,{handleTableChange:i,selectedRaceID:c,selectedTable:n}),c&&n==="results"||c&&n==="qualifying"&&e.jsx(L,{handleTableChange:i,selectedRaceID:c,selectedTable:n})]})},re=w("https://wtxiypcrzogjbgijwurz.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Ind0eGl5cGNyem9namJnaWp3dXJ6Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3MDc3NTE0OTYsImV4cCI6MjAyMzMyNzQ5Nn0.nCFrr5Lrqo9T658aS35gLGuVrNICEJ-3C__9sRJeGtQ");function ne(){const[o,a]=u.useState(!1),[n,s]=u.useState({constructors:[],drivers:[],circuits:[]}),r=x=>{p(x)},[i,l]=u.useState(""),[m,c]=u.useState("results"),p=x=>{c(x)},[t,d]=u.useState([]),[g,f]=u.useState("");u.useEffect(()=>{R()},[]);async function R(){const{data:x,error:y}=await re.from("seasons").select("*").gte("year",2e3).lte("year",2023).order("year",{ascending:!0});y||d(x)}const I=x=>{f(x)},S=(x,y)=>{if(n[y].some(N=>N.id===x.id)){alert(`${x.name} is already in favorites.`);return}s(N=>({...N,[y]:[...N[y],x]})),alert(`${x.name} Added to favorites.`)};return o?e.jsxs("div",{children:[e.jsx(B,{seasons:t,handleTableChange:p,handleSeasons:I,AddedFavorites:n,addToFavorites:S,setAddedFavorites:s,handleButtonClick:r}),e.jsx(te,{selectedTable:m,setSelectedCircuitName:l,handleTableChange:p,selectedSeason:g,AddedFavorites:n,addToFavorites:S,handleButtonClick:r})]}):e.jsx("div",{className:"flex justify-center items-center h-screen",children:e.jsx(Y,{isLoggedIn:o,setLoggedIn:a})})}P.createRoot(document.getElementById("root")).render(e.jsx(V.StrictMode,{children:e.jsx(ne,{})}));
